<div class="sidebar-container">
  <!-- Logo/Header -->
  <div class="sidebar-header">
    <mat-icon class="logo-icon">bolt</mat-icon>
    <h2 class="logo-text">FactuFast</h2>
  </div>

  <!-- Navigation Menu -->
  <mat-nav-list class="nav-list">
    <a mat-list-item 
       routerLink="/dashboard" 
       routerLinkActive="active"
       matTooltip="Panel de control"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon 
        matListIcon
        [matBadge]="dashboardNotifications > 0 ? dashboardNotifications : null"
        matBadgeColor="warn"
        matBadgeSize="small">
        dashboard
      </mat-icon>
      <span matLine>Dashboard</span>
    </a>

    <a mat-list-item 
       routerLink="/invoices" 
       routerLinkActive="active"
       matTooltip="Gestión de facturas"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon 
        matListIcon
        [matBadge]="pendingInvoices > 0 ? pendingInvoices : null"
        matBadgeColor="accent"
        matBadgeSize="small">
        receipt_long
      </mat-icon>
      <span matLine>Facturas</span>
    </a>

    <a mat-list-item 
       routerLink="/quotes" 
       routerLinkActive="active"
       matTooltip="Cotizaciones y presupuestos"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon 
        matListIcon
        [matBadge]="expiredQuotes > 0 ? expiredQuotes : null"
        matBadgeColor="warn"
        matBadgeSize="small">
        format_quote
      </mat-icon>
      <span matLine>Cotizaciones</span>
    </a>

    <a mat-list-item 
       routerLink="/clients" 
       routerLinkActive="active"
       matTooltip="Base de datos de clientes"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon matListIcon>people</mat-icon>
      <span matLine>Clientes</span>
      <span class="nav-count" *ngIf="totalClients">{{ totalClients }}</span>
    </a>

    <!-- Companies option - Only visible for admins -->
    <a mat-list-item 
       *ngIf="isAdmin()"
       routerLink="/companies" 
       routerLinkActive="active"
       matTooltip="Gestión de empresas"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon matListIcon>business</mat-icon>
      <span matLine>Empresas</span>
    </a>

    <a mat-list-item 
       routerLink="/payments" 
       routerLinkActive="active"
       matTooltip="Seguimiento de pagos"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon 
        matListIcon
        [matBadge]="overduePayments > 0 ? overduePayments : null"
        matBadgeColor="warn"
        matBadgeSize="small">
        payment
      </mat-icon>
      <span matLine>Pagos</span>
    </a>

    <a mat-list-item 
       routerLink="/automation" 
       routerLinkActive="active"
       matTooltip="Automatización y programación"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon matListIcon>schedule</mat-icon>
      <span matLine>Automatización</span>
    </a>

    <mat-divider class="nav-divider"></mat-divider>

    <!-- Quick Actions -->
    <div class="quick-actions-section">
      <h4 class="section-title">Acciones Rápidas</h4>
      
      <a mat-list-item 
         (click)="quickCreateInvoice()"
         class="quick-action-item">
        <mat-icon matListIcon color="primary">add_circle</mat-icon>
        <span matLine>Nueva Factura</span>
      </a>

      <a mat-list-item 
         (click)="quickCreateClient()"
         class="quick-action-item">
        <mat-icon matListIcon color="accent">person_add</mat-icon>
        <span matLine>Nuevo Cliente</span>
      </a>
    </div>

    <mat-divider class="nav-divider"></mat-divider>

    <!-- Settings and Support -->
    <a mat-list-item 
       routerLink="/settings" 
       routerLinkActive="active"
       matTooltip="Configuración del sistema"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon matListIcon>settings</mat-icon>
      <span matLine>Configuración</span>
    </a>

    <a mat-list-item 
       routerLink="/help" 
       routerLinkActive="active"
       matTooltip="Ayuda y soporte"
       matTooltipPosition="right"
       (click)="onItemClick()">
      <mat-icon matListIcon>help</mat-icon>
      <span matLine>Ayuda</span>
    </a>
  </mat-nav-list>

  <!-- Footer Info -->
  <div class="sidebar-footer">
    <mat-divider></mat-divider>
    <div class="version-info">
      <small>FactuFast v{{ appVersion }}</small>
    </div>
  </div>
</div>
